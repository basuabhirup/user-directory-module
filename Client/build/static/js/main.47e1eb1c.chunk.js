(this["webpackJsonpuser-directory-module"]=this["webpackJsonpuser-directory-module"]||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(26),r=n.n(i),s=(n(74),n(11)),l=n(7),o=n(23),u=n.n(o),m=n(6),b=n(27),j=(n(93),n(117)),d=n(60),O=n.n(d),h=n(118),f=n(2);var p=function(e){var t=Object(a.useState)({name:"",mobile:"",email:""}),n=Object(l.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),o=s[0],u=s[1];function d(e){var t=e.target.name,n=e.target.value;i(Object(b.a)(Object(b.a)({},c),{},Object(m.a)({},t,n)))}return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{className:"add-user",onSubmit:function(t){e.onSubmit(c),t.preventDefault(),u(!1),i({name:"",mobile:"",email:""})},children:[Object(f.jsx)("input",{name:"name",type:"text",onClick:function(){return u(!0)},onChange:d,placeholder:o?"Name":"Add a new user...",value:c.name}),o&&Object(f.jsx)("input",{name:"mobile",type:"number",onChange:d,placeholder:"Mobile Number",value:c.mobile}),o&&Object(f.jsx)("input",{name:"email",type:"email",onChange:d,placeholder:"E-mail ID",value:c.email}),Object(f.jsx)(h.a,{in:o,children:Object(f.jsx)(j.a,{type:"submit",title:"Add User",children:Object(f.jsx)(O.a,{})})})]})})},x=(n(99),n(62)),v=n.n(x),g=n(64),N=n.n(g),y=n(63),C=n.n(y),S=n(61),U=n.n(S);var k=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)({name:e.name,mobile:e.mobile,email:e.email}),s=Object(l.a)(r,2),o=s[0],u=s[1];function j(e){var t=e.target.name,n=e.target.value;u(Object(b.a)(Object(b.a)({},o),{},Object(m.a)({},t,n)))}return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"card",style:{display:c?"none":"inline-block"},children:[Object(f.jsx)("div",{className:"card-top",children:Object(f.jsx)("h2",{name:"user-name",className:"user-name",children:e.name})}),Object(f.jsxs)("div",{className:"card-bottom",children:[Object(f.jsx)("p",{name:"mobile",className:"info",children:e.mobile}),Object(f.jsx)("p",{name:"email",className:"info",children:e.email})]}),Object(f.jsxs)("div",{className:"button-container",children:[Object(f.jsx)("button",{onClick:function(){return e.deleteUser(e.id)},title:"Delete User",children:Object(f.jsx)(U.a,{})}),Object(f.jsx)("button",{onClick:function(){return i(!0)},title:"Edit User",children:Object(f.jsx)(v.a,{})})]})]}),Object(f.jsxs)("form",{className:"card",onSubmit:function(t){t.preventDefault(),e.updateUser(e.id,o.name,o.mobile,o.email),i(!1),u({name:o.name,mobile:o.mobile,email:o.email})},style:{display:c?"inline-block":"none"},children:[Object(f.jsx)("div",{className:"card-top",children:Object(f.jsx)("input",{name:"name",onChange:j,value:o.name})}),Object(f.jsxs)("div",{className:"card-bottom",children:[Object(f.jsx)("input",{name:"mobile",className:"info",onChange:j,value:o.mobile}),Object(f.jsx)("input",{name:"email",className:"info",onChange:j,value:o.email})]}),Object(f.jsxs)("div",{className:"button-container",children:[Object(f.jsx)("button",{type:"reset",onClick:function(){i(!1),u({name:e.name,mobile:e.mobile,email:e.email})},title:"Cancel Editing",children:Object(f.jsx)(C.a,{})}),Object(f.jsx)("button",{type:"submit",title:"Update User",children:Object(f.jsx)(N.a,{})})]})]})]})};n(100);var D=function(){var e=c.a.useState([]),t=Object(l.a)(e,2),n=t[0],a=t[1];function i(e,t,n,c){u.a.patch("/api/user/".concat(e),{name:t,mobile:n,email:c}).then((function(e){200===e.status&&u.a.get("/api/users").then((function(e){e.data.length>0?a(Object(s.a)(e.data)):a([])})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))}function r(e){u.a.delete("/api/user/".concat(e)).then((function(e){200===e.status&&u.a.get("/api/users").then((function(e){e.data.length>0?a(Object(s.a)(e.data)):a([])})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))}return c.a.useEffect((function(){u.a.get("/api/users").then((function(e){e.data.length>0?a(Object(s.a)(e.data)):a([])})).catch((function(e){return console.error(e)}))}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"heading",children:"User Directory"}),Object(f.jsx)(p,{onSubmit:function(e){u.a.post("/api/users",e).then((function(e){return a(Object(s.a)(e.data))})).catch((function(e){return console.error(e)}))}}),Object(f.jsx)("div",{className:"card-container",children:n.map((function(e){return Object(f.jsx)(k,{id:e._id,updateUser:i,deleteUser:r,name:e.name,mobile:e.mobile,email:e.email},e._id)}))})]})};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(D,{})}),document.getElementById("root"))},74:function(e,t,n){},93:function(e,t,n){},99:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.47e1eb1c.chunk.js.map